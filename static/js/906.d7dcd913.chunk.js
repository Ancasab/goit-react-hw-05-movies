"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[906],{122:function(t,e,n){n.d(e,{Z:function(){return a}});n(791);var r=n(439),i=n(87),c=n(689),u=n(184);function o(t){var e=t.title,n=t.id,o=(0,i.lr)(),a=(0,r.Z)(o,1)[0],s=(0,c.TH)();return(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{to:"/goit-react-hw-05-movies/movies/".concat(n),state:{location:s.pathname,search:a.get("query")},children:e})})}var a=function(t){var e=t.movies;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("ul",{children:e.length>0?e.map((function(t,e){return(0,u.jsx)(o,{title:t.title,id:t.id},"".concat(t.id,"-").concat(e))})):(0,u.jsx)("li",{children:"No movies found."})})})}},906:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(433),i=n(439),c=n(791),u=n(87),o=n(689),a=n(122),s=n(323),l="MoviesPage_form__2deBf",f=n(184);function h(){var t=(0,c.useState)(""),e=(0,i.Z)(t,2),n=e[0],h=e[1],d=(0,c.useState)([]),m=(0,i.Z)(d,2),v=m[0],j=m[1],x=(0,u.lr)(),p=(0,i.Z)(x,2),g=p[0],Z=p[1],k=(0,o.TH)().state||g.get("query");function _(t){if(t){Z("query=".concat(t)),j([]);try{s.Z.fetchMoviesWithQuery(t).then((function(t){t.data.results.map((function(t){var e=t.id,n=t.title;return j((function(t){return[].concat((0,r.Z)(t),[{id:e,title:n}])}))}))}))}catch(e){}}}(0,c.useEffect)((function(){k&&g.set("query",k),k&&_(k)}),[]),(0,c.useEffect)((function(){j([])}),[k]);return(0,f.jsxs)("main",{children:[(0,f.jsxs)("form",{className:l,onSubmit:function(t){t.preventDefault()},children:[(0,f.jsx)("input",{onChange:function(t){h(t.target.value)},value:n}),(0,f.jsx)("button",{onClick:function(){return _(n)},children:"Search"})]}),0!==v.length&&(0,f.jsx)(a.Z,{movies:v})]})}}}]);
//# sourceMappingURL=906.d7dcd913.chunk.js.map