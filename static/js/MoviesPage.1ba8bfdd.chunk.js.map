{"version":3,"file":"static/js/MoviesPage.1ba8bfdd.chunk.js","mappings":"6MAGe,SAASA,EAAaC,GAAiB,IAAdC,EAAKD,EAALC,MAAOC,EAAEF,EAAFE,GAC3CC,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAiCC,EAAAA,EAAAA,GAAAH,EAAA,GAArB,GACbI,GAAWC,EAAAA,EAAAA,MAEjB,OACIC,EAAAA,EAAAA,KAAA,MAAAC,UACID,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CACDC,GAAE,mCAAAC,OAAqCX,GACvCY,MAAO,CACHP,SAAUA,EAASQ,SACnBC,OAAQX,EAAaY,IAAI,UAC3BP,SAEDT,KAIjB,C,WCGA,EAhBmB,SAAHD,GAAkB,IAAbkB,EAAMlB,EAANkB,OACnB,OACET,EAAAA,EAAAA,KAAAU,EAAAA,SAAA,CAAAT,UACID,EAAAA,EAAAA,KAAA,MAAAC,SACKQ,EAAOE,KAAI,SAAAC,GAAA,IAAGnB,EAAEmB,EAAFnB,GAAID,EAAKoB,EAALpB,MAAK,OACpBQ,EAAAA,EAAAA,KAACV,EAAa,CAAUE,MAAOA,EAAOC,GAAIA,GAAtBA,EAA4B,OAKhE,C,qIChBA,EAAuB,yB,SCKR,SAASoB,IACtB,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAnB,EAAAA,EAAAA,GAAAiB,EAAA,GAA/BG,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAwCJ,EAAAA,EAAAA,UAAS,IAAGK,GAAAvB,EAAAA,EAAAA,GAAAsB,EAAA,GAA7CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpC1B,GAAwCC,EAAAA,EAAAA,MAAiB4B,GAAA1B,EAAAA,EAAAA,GAAAH,EAAA,GAAlDE,EAAY2B,EAAA,GAAEC,EAAeD,EAAA,GAC9BhB,GAASR,EAAAA,EAAAA,MAAcM,OAAST,EAAaY,IAAI,SAYvD,SAASiB,EAAcR,GACrB,GAAIA,EAAO,CACTO,EAAgB,SAADpB,OAAUa,IACzBK,EAAgB,IAChB,IACmBI,EAAAA,EAAAA,qBAAyBT,GACjCU,MAAK,SAAAC,GACZA,EAAKA,KAAKC,QAAQlB,KAAI,SAAApB,GAAA,IAAGE,EAAEF,EAAFE,GAAID,EAAKD,EAALC,MAAK,OAChC8B,GAAgB,SAAAQ,GAAC,SAAA1B,QAAA2B,EAAAA,EAAAA,GAAQD,GAAC,CAAE,CAAErC,GAAAA,EAAID,MAAAA,IAAO,GAAE,GAE/C,GACe,CAAf,MAAOwC,GAAQ,CACnB,CACF,EAvBAC,EAAAA,EAAAA,YAAU,WACR1B,GAAUX,EAAasC,IAAI,QAAS3B,GACpCA,GAAUkB,EAAclB,EAE1B,GAAG,KAEH0B,EAAAA,EAAAA,YAAU,WACRX,EAAgB,GAClB,GAAG,CAACf,IAyBJ,OACE4B,EAAAA,EAAAA,MAAA,QAAAlC,SAAA,EACEkC,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAQC,SAVR,SAAAC,GACnBA,EAAEC,gBACJ,EAQoDvC,SAAA,EAC9CD,EAAAA,EAAAA,KAAA,SAAOyC,SAPQ,SAAAF,GACnBrB,EAASqB,EAAEG,OAAOC,MACpB,EAKqCA,MAAO1B,KACtCjB,EAAAA,EAAAA,KAAA,UAAQ4C,QAAS,kBAAMnB,EAAcR,EAAM,EAAChB,SAAC,cAEtB,IAAxBoB,EAAawB,SAAgB7C,EAAAA,EAAAA,KAAC8C,EAAAA,EAAU,CAACrC,OAAQY,MAGxD,C","sources":["components/MovieListItem/MovieListItem.jsx","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import PropTypes from \"prop-types\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\n\nexport default function MovieListItem({ title, id }) {\n    const [searchParams] = useSearchParams();\n    const location = useLocation();\n\n    return (\n        <li>\n            <Link \n                to={`/goit-react-hw-05-movies/movies/${id}`}\n                state={{\n                    location: location.pathname,\n                    search: searchParams.get('query'),\n                }}\n            >\n                {title}\n            </Link>\n        </li>\n    );\n}\n\nMovieListItem.propTypes = {\n    title: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n};\n","import MovieListItem from \"components/MovieListItem/MovieListItem\";\nimport PropTypes from \"prop-types\";\n\n// export default function MovieList({})\n\nimport React from 'react'\n\nconst MoviesList = ({movies}) => {\n  return (\n    <>\n        <ul>\n            {movies.map(({ id, title }) => (\n                <MovieListItem key={id} title={title} id={id} />\n            ))}\n        </ul>\n    </>\n  )\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n\nexport default MoviesList","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesPage_form__2deBf\"};","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport api from 'services/api';\nimport s from './MoviesPage.module.css';\n\nexport default function MoviesPage() {\n  const [query, setQuery] = useState('');\n  const [moviesSearch, setMoviesSearch] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = useLocation().state || searchParams.get('query');\n\n  useEffect(() => {\n    search && searchParams.set('query', search);\n    search && onClickSearch(search);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setMoviesSearch([]);\n  }, [search]);\n\n  function onClickSearch(query) {\n    if (query) {\n      setSearchParams(`query=${query}`);\n      setMoviesSearch([]);\n      try {\n        const response = api.fetchMoviesWithQuery(query);\n        response.then(data => {\n          data.data.results.map(({ id, title }) =>\n            setMoviesSearch(m => [...m, { id, title }])\n          );\n        });\n      } catch (error) {}\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  return (\n    <main>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input onChange={handleChange} value={query} />\n        <button onClick={() => onClickSearch(query)}>Search</button>\n      </form>\n      {moviesSearch.length !== 0 && <MoviesList movies={moviesSearch} />}\n    </main>\n  );\n}"],"names":["MovieListItem","_ref","title","id","_useSearchParams","useSearchParams","searchParams","_slicedToArray","location","useLocation","_jsx","children","Link","to","concat","state","pathname","search","get","movies","_Fragment","map","_ref2","MoviesPage","_useState","useState","_useState2","query","setQuery","_useState3","_useState4","moviesSearch","setMoviesSearch","_useSearchParams2","setSearchParams","onClickSearch","api","then","data","results","m","_toConsumableArray","error","useEffect","set","_jsxs","className","s","onSubmit","e","preventDefault","onChange","target","value","onClick","length","MoviesList"],"sourceRoot":""}